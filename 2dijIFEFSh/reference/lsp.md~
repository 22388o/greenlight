# Lightning Service Provider integration

Greenlight includes a client for the JIT LSP protocol.

## Overview

## Caveats

 - The LSP has to have the ability to know the amount that the
   destination expects in order to satisfy that expectation. In order
   to do so we need to have a couple of values match up:
   1. Each HTLC value has to match or exceed the `amt_to_forward`
      field in the destination's onion payload.
   2. The `total_msat` value at the end of the `payment_secret` onion
      payload field has to match the sum of `amt_to_forward` values
      communicated in the HTLCs (on overpayment we reject, since the
      sender should have matched the expected amount exactly).
  The first 
